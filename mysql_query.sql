# Task 2 - Create Database by Adrian Pena
DROP DATABASE IF EXISTS HAPPY_LEARNING_AP;
CREATE DATABASE HAPPY_LEARNING_AP;

USE HAPPY_LEARNING_AP;
SHOW DATABASES;

# Task 3 - Create Tables by Adrian Pena
CREATE TABLE CLASS_AP (
ID_AP INT PRIMARY KEY,
CODE_AP CHAR(2) NOT NULL,
COLOR_AP VARCHAR(5),
AGE_LEVEL_AP VARCHAR(7) NOT NULL,
ROOM_NUMBER_AP VARCHAR(3) NOT NULL UNIQUE,
PHONE_AP CHAR(13) NOT NULL UNIQUE,
CAPACITY_AP INT NOT NULL,
DIRECTIONS_AP VARCHAR(159)
);

CREATE TABLE STUDENT_AP (
ID_AP INT PRIMARY KEY,
FIRST_NAME_AP VARCHAR(14) NOT NULL,
MIDDLE_NAME_AP VARCHAR(14),
LAST_NAME_AP VARCHAR(14) NOT NULL,
NICKNAME_AP VARCHAR(9),
DATE_OF_BIRTH_AP DATE NOT NULL,
CITY_AP VARCHAR(14) NOT NULL,
ZIPCODE_AP CHAR(5) NOT NULL,
STREET_AP VARCHAR(34) NOT NULL,
CLASS_ID_AP INT NOT NULL,
FOREIGN KEY (CLASS_ID_AP) REFERENCES CLASS_AP(ID_AP)
);

CREATE TABLE PARENT_AP (
ID_AP INT PRIMARY KEY,
FIRST_NAME_AP VARCHAR(14) NOT NULL,
MIDDLE_NAME_AP VARCHAR(14),
LAST_NAME_AP VARCHAR(14) NOT NULL,
HOME_PHONE_AP CHAR(13),
MOBILE_PHONE_AP CHAR(13) NOT NULL,
WORK_PHONE_AP CHAR(13),
PERSONAL_EMAIL_AP VARCHAR(29),
RELATIONSHIP_AP VARCHAR(11) NOT NULL
);

CREATE TABLE TEACHER_AP (
ID_AP INT PRIMARY KEY,
WORK_EMAIL_AP VARCHAR(29) NOT NULL,
FIRST_NAME_AP VARCHAR(14) NOT NULL,
MIDDLE_NAME_AP VARCHAR(14),
LAST_NAME_AP VARCHAR(14) NOT NULL,
HOME_PHONE_AP CHAR(13) NOT NULL,
PERSONAL_EMAIL_AP VARCHAR(29) NOT NULL UNIQUE,
GRADUATED_UNIVERSITY_AP VARCHAR(25) NOT NULL,
HIGHEST_DEGREE_AP CHAR(2) NOT NULL,
DEGREE_AREA VARCHAR(25) NOT NULL
);

CREATE TABLE ASSIGNMENT_AP (
CLASS_ID_AP INT,
FOREIGN KEY (CLASS_ID_AP) REFERENCES CLASS_AP(ID_AP),
TEACHER_ID_AP INT,
FOREIGN KEY (TEACHER_ID_AP) REFERENCES TEACHER_AP(ID_AP)
);

CREATE TABLE ENROLLMENT_AP (
STUDENT_ID_AP INT,
FOREIGN KEY (STUDENT_ID_AP) REFERENCES STUDENT_AP(ID_AP),
PARENT_ID_AP INT,
FOREIGN KEY (PARENT_ID_AP) REFERENCES PARENT_AP(ID_AP)
);

SHOW TABLES;
DESCRIBE CLASS_AP;
DESCRIBE STUDENT_AP;
DESCRIBE PARENT_AP;
DESCRIBE TEACHER_AP;
DESCRIBE ASSIGNMENT_AP;
DESCRIBE ENROLLMENT_AP;

# Task 4 - Add Data by Adrian Pena
INSERT INTO CLASS_AP VALUES
(1, 'RT', 'Red', 'Turtles', '002', '(703) 2333334', '26', NULL),
(2, 'GF', 'Green', 'Foxes', '003', '(703) 2333335', '27', 'Walk in from entrance, go to end of hall and make left'),
(3, 'BT', 'Blue', 'Turtles', '004', '(703) 2333336', '28', 'Walk in from entrance, go to end of hall and make right'),
(4, 'RM', 'Red', 'Monkeys', '005', '(703) 2333337', '29', NULL), 
(5, 'GT', 'Green', 'Turtles', '006', '(703) 2333338', '30', NULL);

INSERT INTO STUDENT_AP VALUES
(1, 'Jason', 'Jeez', 'Bourne', NULL, '2017-09-13', 'Fairfax', '20151', 'Pinkstring Road', 1),
(2, 'John', NULL, 'Wick', 'Mr. Wick', '2016-10-01', 'Arlington', '20152', 'Greenstring Road', 2),
(3, 'Kevin', 'Manuel', 'Hart', NULL, '2018-11-10', 'Chantilly', '20153', 'Redtring Road', 3),
(4, 'Isagi', NULL, 'Chigiri', 'Isgi', '2017-12-27', 'Meade', '20154', 'Bluestring Road', 4),
(5, 'Asuna', NULL, 'Yuuki', 'Una', '2017-01-24', 'West Riding', '20152', 'Yellowstring Road', 5);

INSERT INTO PARENT_AP VALUES
(1, 'Jackson', NULL, 'Bourne', '(703) 3453543', '(571) 5964596', NULL, 'jbourne@outlook.com', 'Father'),
(2, 'George', 'Nikolas', 'Wick', NULL, '(571) 5964596', '(586) 4959495', 'gwick@outlook.com', 'Father'),
(3, 'Emilee', 'Kary', 'Hart', '(703) 3253454', '(571) 3464597', NULL, 'Ehart@outlook.com', 'Mother'),
(4, 'John', NULL, 'Chigiri', NULL, '(571) 5954905', NULL, 'jchig@outlook.com', 'Father'),
(5, 'Arya', 'NotTod', 'Stark', NULL, '(571) 9643455', NULL, 'Astark@outlook.com', 'Mother');

INSERT INTO TEACHER_AP VALUES
(1, 'KatherineP@fcps.com', 'Katherine', NULL,'Pannels', '(571) 4054543', 'KatherineP@gmail.com', 'George Mason', 'MS', 'Teacher Education'),
(2, 'AlexC@fcps.com', 'Alex', 'Puny','Cells', '(571) 4054544', 'AlexC@gmail.com', 'Cornell', 'MA', 'Special Education'),
(3, 'HarrisL@fcps.com', 'Harris', NULL,'Luss', '(571) 4054545', 'HarrisL@gmail.com', 'Washington State', 'BS', 'History'),
(4, 'JoannaA@fcps.com', 'Joanna', 'Apple','Anderson', '(571) 4054546', 'JoannaA@gmail.com', 'Florida State', 'MA', 'Teacher Education'),
(5, 'JoseL@fcps.com', 'Jose', NULL, 'Louis', '(571) 4054547', 'JoseL@gmail.com', 'George Mason', 'MS', 'Biology');

INSERT INTO ENROLLMENT_AP VALUES
(1, 1),
(2, 2),
(3, 3), 
(4, 4),
(5, 5);

INSERT INTO ASSIGNMENT_AP VALUES
(1, 1),
(2, 2),
(3, 3), 
(4, 4),
(5, 5);

SELECT * FROM CLASS_AP;
SELECT * FROM STUDENT_AP;
SELECT * FROM PARENT_AP;
SELECT * FROM TEACHER_AP;
SELECT * FROM ASSIGNMENT_AP;
SELECT * FROM ENROLLMENT_AP;


# Task 5 - Created by Adrian Pena

SELECT CONCAT(S.FIRST_NAME_AP, ' ', S.LAST_NAME_AP) AS 'Student',
c.AGE_LEVEL_AP AS 'Level', c.CODE_AP AS 'Code', c.COLOR_AP as 'Color', c.DIRECTIONS_AP AS 'Directions', CONCAT(T.FIRST_NAME_AP, ' ', T.LAST_NAME_AP) AS 'Teacher'
FROM STUDENT_AP AS S
JOIN CLASS_AP AS C ON C.ID_AP = S.ID_AP
JOIN ASSIGNMENT_AP AS A ON A.CLASS_ID_AP = C.ID_AP
JOIN TEACHER_AP AS T ON A.TEACHER_ID_AP = T.ID_AP
ORDER BY S.FIRST_NAME_AP ASC;

SELECT c.COLOR_AP AS 'Color', c.AGE_LEVEL_AP AS 'Level', CONCAT(s.FIRST_NAME_AP, ' ', s.LAST_NAME_AP) AS 'Student', s.ZIPCODE_AP AS 'Zipcode'
FROM STUDENT_AP AS s
JOIN CLASS_AP AS c ON c.ID_AP = s.ID_AP
ORDER BY s.FIRST_NAME_AP ASC;

SELECT CONCAT(p.FIRST_NAME_AP, ' ', p.LAST_NAME_AP) AS 'Parent', p.WORK_PHONE_AP AS 'Work Phone',
CONCAT(s.FIRST_NAME_AP, ' ', s.LAST_NAME_AP) AS 'Student', c.AGE_LEVEL_AP AS 'Class Level', c.COLOR_AP AS 'Color'
FROM PARENT_AP AS P
JOIN ENROLLMENT_AP AS E ON E.PARENT_ID_AP = P.ID_AP
JOIN STUDENT_AP AS S ON E.STUDENT_ID_AP = S.ID_AP
JOIN CLASS_AP AS C ON S.CLASS_ID_AP = C.ID_AP
ORDER BY P.FIRST_NAME_AP ASC;

SELECT CONCAT(P.FIRST_NAME_AP, ' ', P.LAST_NAME_AP) AS 'Parent', CONCAT(T.FIRST_NAME_AP, ' ' , T.LAST_NAME_AP) AS 'Teacher', CONCAT(S.FIRST_NAME_AP, ' ', S.LAST_NAME_AP) AS 'Student'
FROM PARENT_AP as p
JOIN ENROLLMENT_AP AS E ON E.PARENT_ID_AP = P.ID_AP
JOIN STUDENT_AP AS S ON E.STUDENT_ID_AP = S.ID_AP
JOIN CLASS_AP AS C ON S.CLASS_ID_AP = C.ID_AP
JOIN ASSIGNMENT_AP AS A ON A.CLASS_ID_AP = C.ID_AP
JOIN TEACHER_AP AS T ON A.TEACHER_ID_AP = T.ID_AP
ORDER BY P.FIRST_NAME_AP ASC;


